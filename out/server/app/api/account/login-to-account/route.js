"use strict";(()=>{var e={};e.id=374,e.ids=[374],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},70566:(e,o,t)=>{t.r(o),t.d(o,{headerHooks:()=>v,originalPathname:()=>w,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>_});var n={};t.r(n),t.d(n,{POST:()=>POST,dynamic:()=>p}),t(78976);var a=t(10884),c=t(16132),r=t(1894),s=t(79581),i=t(62421),u=t(95798);let p="force-dynamic";async function POST(e){try{await (0,r.Z)();let{pin:o,accountId:t,uid:n}=await e.json(),a=await s.Z.findOne({_id:t,uid:n});if(!a)return u.Z.json({success:!1,message:"Account not found"});let c=await (0,i.compare)(o,a.pin);if(c)return u.Z.json({success:!0,message:"Welcome to Movies-App!"});return u.Z.json({success:!1,message:"Incorrect PIN ! Please try again"})}catch(e){return console.log(e),u.Z.json({success:!1,message:"Something Went wrong"})}}let l=new a.AppRouteRouteModule({definition:{kind:c.x.APP_ROUTE,page:"/api/account/login-to-account/route",pathname:"/api/account/login-to-account",filename:"route",bundlePath:"app/api/account/login-to-account/route"},resolvedPagePath:"/home/dci-student/Desktop/movis-app-netlify/src/app/api/account/login-to-account/route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:g,headerHooks:v,staticGenerationBailout:_}=l,w="/api/account/login-to-account/route"},1894:(e,o,t)=>{t.d(o,{Z:()=>c});var n=t(11185),a=t.n(n);let connectToDB=async()=>{try{await a().connect(process.env.MONGODB_URI),console.log("mongodb is connected")}catch(e){console.log(e)}},c=connectToDB},79581:(e,o,t)=>{t.d(o,{Z:()=>s});var n=t(11185),a=t.n(n);let c=new(a()).Schema({uid:String,name:String,pin:String},{timestamps:!0}),r=a().models.Account||a().model("Account",c),s=r}};var o=require("../../../../webpack-runtime.js");o.C(e);var __webpack_exec__=e=>o(o.s=e),t=o.X(0,[126,933,449,798,421],()=>__webpack_exec__(70566));module.exports=t})();