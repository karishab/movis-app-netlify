"use strict";(()=>{var e={};e.id=407,e.ids=[407],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},35961:(e,t,o)=>{o.r(t),o.d(t,{headerHooks:()=>l,originalPathname:()=>f,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>v,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>g});var r={};o.r(r),o.d(r,{DELETE:()=>DELETE,dynamic:()=>u}),o(78976);var a=o(10884),s=o(16132),n=o(1894),i=o(1534),c=o(95798);let u="force-dynamic";async function DELETE(e){try{await (0,n.Z)();let{searchParams:t}=new URL(e.url),o=t.get("id");if(!o)return c.Z.json({success:!1,message:"Favorite item ID is required"});let r=await i.Z.findByIdAndDelete(o);if(r)return c.Z.json({success:!0,message:"Removed from you list"});return c.Z.json({success:!1,message:"Something Went wrong"})}catch(e){return console.log(e),c.Z.json({success:!1,message:"Something Went wrong"})}}let d=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/favorites/remove-favorite/route",pathname:"/api/favorites/remove-favorite",filename:"route",bundlePath:"app/api/favorites/remove-favorite/route"},resolvedPagePath:"/home/dci-student/Desktop/movis-app-netlify/src/app/api/favorites/remove-favorite/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:p,serverHooks:v,headerHooks:l,staticGenerationBailout:g}=d,f="/api/favorites/remove-favorite/route"},1894:(e,t,o)=>{o.d(t,{Z:()=>s});var r=o(11185),a=o.n(r);let connectToDB=async()=>{try{await a().connect(process.env.MONGODB_URI),console.log("mongodb is connected")}catch(e){console.log(e)}},s=connectToDB},1534:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(11185),a=o.n(r);let s=new(a()).Schema({uid:String,accountID:String,backdrop_path:String,poster_path:String,movieID:Number,type:String},{timestamps:!0}),n=a().models.Favorites||a().model("Favorites",s),i=n}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),o=t.X(0,[126,933,449,798],()=>__webpack_exec__(35961));module.exports=o})();