"use strict";(()=>{var e={};e.id=728,e.ids=[728],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},81483:(e,t,o)=>{o.r(t),o.d(t,{headerHooks:()=>v,originalPathname:()=>f,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>g});var a={};o.r(a),o.d(a,{POST:()=>POST,dynamic:()=>d}),o(78976);var r=o(10884),s=o(16132),i=o(1894),n=o(1534),c=o(95798);let d="force-dynamic";async function POST(e){try{await (0,i.Z)();let t=await e.json(),o=await n.Z.find({uid:t.uid,movieID:t.movieID,accountID:t.accountID});if(o&&o.length>0)return c.Z.json({success:!1,message:"This is already added to your list"});let a=await n.Z.create(t);if(a)return c.Z.json({success:!0,message:"Added to your list successfully"});return c.Z.json({success:!1,message:"Something Went wrong"})}catch(e){return console.log(e),c.Z.json({success:!1,message:"Something Went wrong"})}}let u=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/favorites/add-favorite/route",pathname:"/api/favorites/add-favorite",filename:"route",bundlePath:"app/api/favorites/add-favorite/route"},resolvedPagePath:"/home/dci-student/Desktop/movis-app-netlify/src/app/api/favorites/add-favorite/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:m,headerHooks:v,staticGenerationBailout:g}=u,f="/api/favorites/add-favorite/route"},1894:(e,t,o)=>{o.d(t,{Z:()=>s});var a=o(11185),r=o.n(a);let connectToDB=async()=>{try{await r().connect(process.env.MONGODB_URI),console.log("mongodb is connected")}catch(e){console.log(e)}},s=connectToDB},1534:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(11185),r=o.n(a);let s=new(r()).Schema({uid:String,accountID:String,backdrop_path:String,poster_path:String,movieID:Number,type:String},{timestamps:!0}),i=r().models.Favorites||r().model("Favorites",s),n=i}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),o=t.X(0,[126,933,449,798],()=>__webpack_exec__(81483));module.exports=o})();