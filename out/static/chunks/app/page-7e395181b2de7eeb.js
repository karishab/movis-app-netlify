(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931,368],{1393:function(e,t,l){Promise.resolve().then(l.bind(l,3577))},3574:function(e,t){"use strict";function NoopHead(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return NoopHead}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3577:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return Browse}});var a=l(7437),i=l(2751),s=l(3421),n=l(7477),o=l(1183),d=l(1427),r=l(6630),c=l(2749),m=l(2265);function Browse(){let{loggedInAccount:e,mediaData:t,setMediaData:l,setPageLoader:u,pageLoader:x}=(0,m.useContext)(d.GlobalContext),{data:p}=(0,c.useSession)();return(console.log(p,"session"),(0,m.useEffect)(()=>{(async function(){var t;let a=await (0,r.FN)("tv"),i=await (0,r.Ob)("tv"),s=await (0,r.Wt)("tv"),n=await (0,r.FN)("movie"),o=await (0,r.Ob)("movie"),d=await (0,r.Wt)("movie"),c=await (0,r.pK)(null==p?void 0:null===(t=p.user)||void 0===t?void 0:t.uid,null==e?void 0:e._id);l([...[{title:"Trending TV Shows",medias:a},{title:"Popular TV Shows",medias:i},{title:"Top rated TV Shows",medias:s}].map(e=>({...e,medias:e.medias.map(e=>({...e,type:"tv",addedToFavorites:!!c&&!!c.length&&c.map(e=>e.movieID).indexOf(e.id)>-1}))})),...[{title:"Trending Movies",medias:n},{title:"Popular Movies",medias:o},{title:"Top rated Movies",medias:d}].map(e=>({...e,medias:e.medias.map(e=>({...e,type:"movie",addedToFavorites:!!c&&!!c.length&&c.map(e=>e.movieID).indexOf(e.id)>-1}))}))]),u(!1)})()},[]),null===p)?(0,a.jsx)(o.Z,{}):null===e?(0,a.jsx)(n.Z,{}):x?(0,a.jsx)(i.Z,{}):(console.log(t),(0,a.jsx)("main",{className:"flex min-h-screen flex-col",children:(0,a.jsx)(s.Z,{mediaData:t})}))}},3421:function(e,t,l){"use strict";l.d(t,{Z:function(){return CommonLayout}});var a=l(7437),i=l(9844),s=l(3574),n=l.n(s),o=l(7607),d=l(3982);function MediaRow(e){let{title:t,medias:l}=e;return(0,a.jsxs)("div",{className:"h-40 space-y-0.5 md:space-y-2 px-4",children:[(0,a.jsx)("h2",{className:"cursor-pointer text-sm font-semibold text-[#e5e5e5] transition-colors duration-200 hover:text-white md:text-2xl",children:t}),(0,a.jsx)("div",{className:"group relative md:-ml-2",children:(0,a.jsx)("div",{className:"flex items-center scrollbar-hide space-x-0.5 overflow-x-scroll md:space-x-2.5 md:p-2",children:l&&l.length&&l.filter(e=>null!==e.backdrop_path&&null!==e.poster_path).map(e=>(0,a.jsx)(d.Z,{title:t,media:e},e.id))})})]})}var r=l(6691),c=l.n(r),m=l(4033),u=l(9150),x=l(2410);function Banner(e){let{medias:t}=e,l=t&&t.length?t[Math.floor(Math.random()*t.length)]:null;console.log(l,"createRandomMedia");let i=(0,m.useRouter)();return(0,a.jsxs)("div",{className:"flex flex-col space-y-2 py-16 md:space-y-4 lg:h-[65vh] lg:justify-end lg:pb-12 lg:pl-24",children:[(0,a.jsxs)("div",{className:"absolute top-0 left-0 h-[95vh] w-screen -z-10",children:[(0,a.jsx)(c(),{src:"".concat("https://image.tmdb.org/t/p/original","/").concat((null==l?void 0:l.backdrop_path)||(null==l?void 0:l.poster_path)),alt:"Banner",layout:"fill",objectFit:"cover"}),(0,a.jsx)("div",{className:"absolute w-full h-32 bg-gradient-to-t from-gray-100 to-transparent bottom-0 z-20"})]}),(0,a.jsx)("h1",{className:"text-2xl md:text-4xl lg:text-7xl font-bold",children:(null==l?void 0:l.title)||(null==l?void 0:l.name)||(null==l?void 0:l.original_name)}),(0,a.jsx)("p",{className:"max-w-xs text-shadow-md text-xs md:max-w-lg md:text-lg lg:max-w-2xl line-clamp-5",children:null==l?void 0:l.overview}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>i.push("/watch/".concat(null==l?void 0:l.type,"/").concat(null==l?void 0:l.id)),className:"cursor-pointer flex items-center gap-x-2 rounded px-5 py-1.5 text-sm font-semibold transition hover:opacity-75 md:py-2.5 md:px-8 md:text-xl bg-white text-black",children:[(0,a.jsx)(u.sT9,{className:"h-4 w-4 text-black md:h-7 md:w-7 cursor-pointer"}),"Play"]}),(0,a.jsxs)("button",{className:"cursor-pointer flex items-center gap-x-2 rounded px-5 py-1.5 text-sm font-semibold transition hover:opacity-75 md:py-2.5 md:px-8 md:text-xl bg-[gray]/70",children:[(0,a.jsx)(x.UYI,{className:"h-5 w-5  md:h-8 md:w-8 cursor-pointer"}),"More Info"]})]})]})}function CommonLayout(e){let{mediaData:t}=e;return(0,a.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"movies-app Clone"})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{}),(0,a.jsxs)("div",{className:"relative pl-4 pb-24 lg:space-y-24",children:[(0,a.jsx)(Banner,{medias:t&&t.length?t[0].medias:[]}),(0,a.jsx)("section",{className:"md:space-y-16",children:t&&t.length?t.map(e=>(0,a.jsx)(MediaRow,{title:e.title,medias:e.medias})):null})]})]})]})}}},function(e){e.O(0,[712,400,749,890,32,882,971,472,744],function(){return e(e.s=1393)}),_N_E=e.O()}]);